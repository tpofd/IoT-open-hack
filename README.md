![Баннер](https://lh6.googleusercontent.com/ENVHBnM6Zu8OBOo8EC367x72bv11TdTLBoQkUYtOAlH_K_th9d0cA0sUoJRqHXXQzJBiO3Oqgb6qqcQRHIIgGJxrHIY6aQrpBiM4JOO1BZYToeUtk00DfNwceNKx-RNjQ1wqEJI)

# Привет, участник IoT практикума!

Совсем скоро вашей команде предстоит менее чем за 7 часов реализовать полноценное IoT-решение c визуализацией в сервисе Azure IoT Central.

Структурно, стоящая перед вами сегодня задача выглядит так:

![Архитектура](https://lh6.googleusercontent.com/MfBbMVxqQ-KU5H4JsnaXaNsT5bEo4mYbvtcXSiaO6TYuIsvAVxgBAkk6JNfz8ci04qVYb0Jeb_YW8t72uey3ipGdOiYp-G1DVinJFwfqSleyeuU8x5hxMHpQXRy6UWE5-eBwPfU)

1. На первом этапе [NBIoT от МТС](https://moskva.mts.ru/business/internet-veshhej-iot/nb-iot-development-kit) фиксирует данные с метеостанции. 
> <img src="https://lh5.googleusercontent.com/JWcv_TKOdicbK3oBBxZUf2hOZK0Yanuz9LWQ7AiAR6NY3xP1M2wEzfoL7BDalDcOSUxg8WGHbHpfxZwSrmj_eSkmIyl177CTrQYqKPuOEd8le2WPQHzY2YYXXjMtBy1tp5Hh2qI" width="500" />  
2. Далее вам предстоит развернуть виртуальную машину и настроить Node-RED для парсинга данных с метеостанции.  
3. Затем необходимо преобразовать данные и передать через  Azure IoT Central Device bridge для дальнейшей обработки в Azure IoT Central   
4. На последнем этапе вам предстоит научиться визуализировать и экспортировать полученные данные в Azure IoT Central и настроить уведомления о критических событиях.  

Более подробно эти этапы делятся на **13 челленджей**, которые вам необходимо будет последовательно пройти.

## Правила игры

1. В практикуме принимают участие команды от 2 до 5 человек
2. Практикум заканчивается ровно в 18:00. В это время эксперты заканчивают оценку команд.
3. Действующие лица:  
    3.1. **Участники** - все команды, участвующие в практикуме  
    3.2. **Технические эксперты** - представители Microsoft и МТС. Обеспечивают менторскую поддержку команд по вопросам работы с NBIoT МТС, Azure IoT Central и сервисов Azure.
         **Контакты экспертов:**  
    3.3. **Модераторы** - модерируют проведение практикума. К ним можно обращаться по всем орг. вопросам.  
         **Контакты модераторов:**  
4. Вся коммуникация на протяжении практикума происходит в Microsoft Teams, где есть:
   4.1. **Общий чат** - в нем происходят церемонии открытия/закрытия, лекции и другие общие активности
   4.2. **Командный чат** - личная комната для каждой команды, куда также будут заходить модераторы и технические эксперты для фиксации прогресса команд и ответа на вопросы      (старайтесь всегда оставаться в режиме видеовстречи, так организаторам будет проще помогать вам и фиксировать прогресс).  
        ***Организаторы распределяют вас по командам за день до мероприятия. В день мероприятия могут происходить корректировки состава команд.***
        
**Установите [Microsoft Teams заранее!](https://www.microsoft.com/ru-ru/microsoft-teams/download-app)
Т.к. там будет проходить вся коммуникация в рамках IoT-практикума.**

5. Практикум состоит из 13 челленджей  
    5.1. За успешное прохождение челленджа, команде начисляются баллы  
    5.2. Если команда не может самостоятельно пройти какой-то из этапов, она может воспользоваться подсказкой экспертов  
         **Штраф за подсказку: -50 баллов**
         
| № челленджа | Описание  | Награда за выполнение(баллы) |
| :------------ |:--------------- | -----:|
| 1      | Создание виртуальной машины в Azure (Ubuntu) в для NBIoT-шлюза, генерация ключей для SSH соединения (критично при создании машины выбрать регион - Северная Европа) <br>    ******Критерий успеха:****** виртуальная машина создана. Появился общедоступный IP адрес | 100 |
| 2     | Присвоить NB-IoT шлюзу публичное доменное имя с учетом названия команды. <br> exp: nbiot-openhack-teamN.northeurope.cloudapp.azure.com <br> Где N - номер команды <br> *****Критерий успеха:***** к виртуальной машине можно подключиться, используя доменное имя. <br> (Привязку доменного имени также возможно проверить с помощью https://dnschecker.org/#A/)      |   100 |
| 3     | Открыть порты на VM для работы с виртуальной машиной для работы с Node-RED и HTTP. Попробовать установить NGINX для проверки доступа <br> ******Критерий успеха:****** к виртуальной машине можно подключиться через SSH соединение, при переходе в браузере по адресу доменного имени VM появляется страница NGINX или ее аналог.     |   200 |
| 4     | Установить Node-RED <br> ***Критерий успеха:*** при переходе через доменное имя на порт появляется веб-редактор Node-RED    |   200 |
| 5     | Импортировать в Node-RED скелет шлюза/данных предоставленный модератором. [Скелет шлюза.](https://github.com/tpofd/IoT-open-hack/blob/main/flows.json) <br> ***Критерий успеха:*** при переходе через доменное имя на нужный порт в веб-редакторе Node-RED можно посмотреть скелет шлюза    |   200 |
| 6     | Убедиться в получении данных с метеостанции в Node-RED. <br> ***Критерий успеха:*** В логах Node-RED отображаются данные, полученные с NB-IoT устройства   |   100 |
| 7     | Развернуть приложение Azure IoT Central <br> ***Критерий успеха:*** команде удалось успешно зарегистрировать в Azure IoT Central, команда может перейти в панель мониторинга своего приложения    |   200 |
| 8     | Развернуть Device Bridge для подключения NB-IoT шлюза к IoT Central ([настройка Device Bridge](https://github.com/Azure/iotc-device-bridge)) <br> ***Критерий успеха:*** у команды создано приложение-функция Device Bridge.    |   200 |
| 9     | Создать и опубликовать шаблон устройства в Azure IoT Central с отображением всех показателей телеметрии метеостанции. <br> ***Критерий успеха:*** у команды есть опубликованный шаблон устройства, который отображает всю измеряемую телеметрию.     |   200 |
| 10     | Настроить передачу данных из Node-RED в Device Bridge и проверить поступление данных в Azure IoT Central <br> ***Критерий успеха:*** у команды отображается новое устройство в списке устройств Azure IoT Central, данные телеметрии можно отследить в Azure IoT Central    |   200 |
| 11     | Настроить панель мониторинга в Azure IoT Central <br> ***Критерий успеха:*** у команды отображаются графики выбранных показателей на главной странице Azure IoT Central и на странице самого устр-ва.    |   200 |
| 12     | Настроить правило отправки уведомлений на почту при превышении заданных показателей одного из параметров телеметрии. <br> ***Критерий успеха:*** команде приходят уведомления на электронную почту при достижении триггерных показателей.    |   100 |
| 13     | Настроить экспорт данных из Azure IoT Central в хранилище двоичных данных Azure (blob) <br> ***Критерий успеха:*** данные, поступающие в Azure IoT Central отображаются в созданном командой хранилище двоичных данных (blob).    |   300 |
